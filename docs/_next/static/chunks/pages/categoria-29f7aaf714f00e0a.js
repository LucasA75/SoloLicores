(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[323],{420:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/categoria",function(){return r(5736)}])},2497:function(e,t,r){"use strict";r.d(t,{Z:function(){return c}});var n=r(5893),i=r(7294),a=r(8855);let s=e=>{let{categorias:t,setCategorias:r}=e,[s,o]=(0,i.useState)(""),[c,l]=(0,i.useState)(""),d=async e=>{try{e.preventDefault();let n=(0,a.Z)();console.log(n);let i=await fetch(n+"/categoria",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({nombre:s,descripcion:c})});if(!i.ok)throw Error("No se pudo guardar la categoria");let o=await i.json();console.dir(o),r([...t,o])}catch(e){console.error(e)}};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("form",{action:"form",method:"post",onSubmit:d,children:[(0,n.jsx)("label",{htmlFor:"nombre",children:"Nombre"}),(0,n.jsx)("input",{type:"text",id:"nombre",value:s,onChange:e=>o(e.target.value)}),(0,n.jsx)("label",{children:"Descripcion"}),(0,n.jsx)("textarea",{value:c,onChange:e=>l(e.target.value)}),(0,n.jsx)("button",{type:"submit",children:"Guardar"})]}),"Nombre : ",s," | Descripcion : ",c]})},o=e=>{let{categorias:t,setCategorias:r}=e,s=async()=>{try{let e=(0,a.Z)(),t=await fetch(e+"/categoria");if(!t.ok)throw Error("Problemas al recuperar las categorias!");let n=await t.json();r(n)}catch(e){console.error(e)}};(0,i.useEffect)(()=>{s()},[]);let o=async e=>{try{let t=(0,a.Z)(),r=t+"/categoria?id="+e.id,n=await fetch(r,{method:"DELETE"});if(!n.ok)throw Error("Problemas al eliminar la categoria!");s()}catch(e){console.error(e)}};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("h2",{children:"Listado de Categorias"}),(0,n.jsxs)("table",{border:1,children:[(0,n.jsx)("thead",{children:(0,n.jsxs)("tr",{children:[(0,n.jsx)("th",{children:"Id"}),(0,n.jsx)("th",{children:"Nombre"}),(0,n.jsx)("th",{children:"Descripcion"}),(0,n.jsx)("th",{children:"Acciones"})]})}),(0,n.jsx)("tbody",{children:t.map(e=>(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{children:e.id}),(0,n.jsx)("td",{children:e.nombre}),(0,n.jsx)("td",{children:e.descripcion}),(0,n.jsxs)("td",{children:[(0,n.jsx)("button",{children:"Editar"}),(0,n.jsx)("button",{onClick:()=>o(e),children:"Eliminar"})]})]},e.id))})]})]})};function c(){let[e,t]=(0,i.useState)([]);return(0,n.jsxs)("div",{children:[(0,n.jsx)(s,{categorias:e,setCategorias:t}),(0,n.jsx)("hr",{}),(0,n.jsx)("br",{}),(0,n.jsx)(o,{categorias:e,setCategorias:t})]})}},8855:function(e,t,r){"use strict";function n(){return"https://tan-precious-hardware.glitch.me/"}r.d(t,{Z:function(){return n}})},5736:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return b}});var n=r(5893),i=r(7294),a=r(1664),s=r.n(a);let o=()=>(0,n.jsxs)("header",{style:{backgroundColor:"#f5f5f5",color:"#000",fontFamily:"Roboto",fontSize:"1.5rem",fontWeight:"500",margin:"0 auto",padding:"0.5rem 1rem",transition:"all .2s ease-in-out",display:"flex",justifyContent:"space-between",overflow:"hidden"},children:[(0,n.jsx)("h2",{children:"SoloLicores"}),(0,n.jsxs)("ul",{style:{display:"flex",gap:"30px"},children:[(0,n.jsxs)("li",{children:[(0,n.jsx)("label",{children:"Buscar:"}),(0,n.jsx)("input",{})]}),(0,n.jsx)("li",{children:(0,n.jsx)(s(),{href:"/perfil",children:"Perfil"})})]})]}),c=e=>(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(o,{}),e.children]});r(2497);var l=r(8855);let d=async()=>{let e=localStorage.getItem("usuario");null==e&&(window.location="./ingreso/form_ingreso.html");let t=JSON.parse(e),r=t.user.stsTokenManager.accessToken,n=(0,l.Z)();fetch(n+"/usuario/check",{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+r}}).then(e=>{if(!e.ok)throw Error("Token no v\xe1lido");e.json()}).catch(e=>{window.location="./ingreso/form_ingreso.html"})};var h=r(4203),u=r.n(h);r(5675);let x=e=>{let{licor:t}=e,[r,a]=(0,i.useState)(t);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("h3",{style:{textAlign:"center",fontSize:"30px",margin:"20px 0"},children:"Categorias Destacadas"}),(0,n.jsx)("div",{className:u().categorias,children:r.map(e=>(0,n.jsxs)("div",{className:u().cajita,children:[console.log(e),(0,n.jsx)("h3",{children:e.licor}),(0,n.jsx)("img",{src:e.img,alt:"Imagen",width:150}),(0,n.jsx)("p",{children:e.precio}),(0,n.jsx)("button",{className:u().btn,children:"Ver m\xe1s"})]},e.id))})]})};var j=r(6943),g=r.n(j);let m=e=>{let{cons:t}=e,[r,a]=(0,i.useState)(t);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("h3",{style:{textAlign:"center",fontSize:"30px"},children:"Consejos para tomar"}),(0,n.jsx)("br",{}),(0,n.jsx)("div",{className:g().categorias,children:r.map(e=>(0,n.jsxs)("div",{className:g().cajita,children:[console.log(e),(0,n.jsx)("div",{className:g().imagen,children:"Imagen no encontrada..."}),(0,n.jsx)("h3",{className:g().texto,children:e.texto})]},e.id))})]})},p=()=>{d();let[e,t]=(0,i.useState)("Usuario");return(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(c,{children:(0,n.jsxs)("main",{className:"container_bg",children:[(0,n.jsxs)("h1",{className:"titulo",style:{textAlign:"center",padding:"10px 0"},children:["Bienvenido ",e]}),(0,n.jsx)(x,{licor:[{id:"1",licor:"Vodka",img:"https://elbrindis.cl/wp-content/uploads/2022/06/Vodka-Absolut-1-Litro-460x460.jpg"},{id:"2",licor:"Cerveza",img:"https://elbrindis.cl/wp-content/uploads/2022/06/Vodka-Absolut-1-Litro-460x460.jpg"},{id:"3",licor:"Vino",img:"https://elbrindis.cl/wp-content/uploads/2022/06/Vodka-Absolut-1-Litro-460x460.jpg"},{id:"4",licor:"Espumante",img:"https://elbrindis.cl/wp-content/uploads/2022/06/Vodka-Absolut-1-Litro-460x460.jpg"}]}),(0,n.jsx)("br",{}),(0,n.jsx)(m,{cons:[{id:"1",texto:"Evite personas o lugares que lo hagan beber cuando no quiere o lo inviten a beber m\xe1s de lo que deber\xeda."},{id:"2",texto:"Planee otras actividades que no impliquen beber para d\xedas que tenga ganas de tomar."},{id:"3",texto:"Coma algo antes de beber."},{id:"4",texto:"Utilizar cualquier celebraci\xf3n o acontecimiento para consumir delante de nuestros hijos."}]})]})})})};var b=p},6943:function(e){e.exports={categorias:"consejos_categorias__jrxd4",cajita:"consejos_cajita__BMKDU",imagen:"consejos_imagen__9lhUC",texto:"consejos_texto__NxUNm",btn:"consejos_btn__ND96A"}},4203:function(e){e.exports={categorias:"vitrina_categorias__1Idzg",cajita:"vitrina_cajita__1_qCp",btn:"vitrina_btn__StJlK"}}},function(e){e.O(0,[61,774,888,179],function(){return e(e.s=420)}),_N_E=e.O()}]);