(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[495],{3406:function(e,r,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/perfil",function(){return t(1245)}])},3525:function(e,r,t){"use strict";t.d(r,{Z:function(){return l}});var i=t(5893),n=t(7294),o=t(8855);let s=e=>{let{categorias:r,setCategorias:t}=e,[s,a]=(0,n.useState)(""),[c,l]=(0,n.useState)(""),d=async e=>{try{e.preventDefault();let i=(0,o.Z)();console.log(i);let n=await fetch(i+"/categoria",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({nombre:s,descripcion:c})});if(!n.ok)throw Error("No se pudo guardar la categoria");let a=await n.json();console.dir(a),t([...r,a])}catch(e){console.error(e)}};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("form",{action:"form",method:"post",onSubmit:d,children:[(0,i.jsx)("label",{htmlFor:"nombre",children:"Nombre"}),(0,i.jsx)("input",{type:"text",id:"nombre",value:s,onChange:e=>a(e.target.value)}),(0,i.jsx)("label",{children:"Descripcion"}),(0,i.jsx)("textarea",{value:c,onChange:e=>l(e.target.value)}),(0,i.jsx)("button",{type:"submit",children:"Guardar"})]}),"Nombre : ",s," | Descripcion : ",c]})},a=e=>{let{categorias:r,setCategorias:t}=e,s=async()=>{try{let e=(0,o.Z)(),r=await fetch(e+"/categoria");if(!r.ok)throw Error("Problemas al recuperar las categorias!");let i=await r.json();t(i)}catch(e){console.error(e)}};(0,n.useEffect)(()=>{s()},[]);let a=async e=>{try{let r=(0,o.Z)(),t=r+"/categoria?id="+e.id,i=await fetch(t,{method:"DELETE"});if(!i.ok)throw Error("Problemas al eliminar la categoria!");s()}catch(e){console.error(e)}};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("h2",{children:"Listado de Categorias"}),(0,i.jsxs)("table",{border:1,children:[(0,i.jsx)("thead",{children:(0,i.jsxs)("tr",{children:[(0,i.jsx)("th",{children:"Id"}),(0,i.jsx)("th",{children:"Nombre"}),(0,i.jsx)("th",{children:"Descripcion"}),(0,i.jsx)("th",{children:"Acciones"})]})}),(0,i.jsx)("tbody",{children:r.map(e=>(0,i.jsxs)("tr",{children:[(0,i.jsx)("td",{children:e.id}),(0,i.jsx)("td",{children:e.nombre}),(0,i.jsx)("td",{children:e.descripcion}),(0,i.jsxs)("td",{children:[(0,i.jsx)("button",{children:"Editar"}),(0,i.jsx)("button",{onClick:()=>a(e),children:"Eliminar"})]})]},e.id))})]})]})},c=()=>{let[e,r]=(0,n.useState)([]),t=async()=>{try{let e=(0,o.Z)(),t=await fetch(e+"/requerido");if(!t.ok)throw Error("Problemas al recuperar las categorias!");let i=await t.json();r(i)}catch(e){console.error(e)}};(0,n.useEffect)(()=>{t()},[]);let s=async e=>{try{let r=(0,o.Z)(),i=r+"/requerido?id="+e.id,n=await fetch(i,{method:"DELETE"});if(!n.ok)throw Error("Problemas al eliminar la categoria!");t()}catch(e){console.error(e)}};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("h2",{children:"Listado de Pedidos"}),(0,i.jsxs)("table",{border:1,children:[(0,i.jsx)("thead",{children:(0,i.jsxs)("tr",{children:[(0,i.jsx)("th",{children:"Nombre"}),(0,i.jsx)("th",{children:"Descripcion"}),(0,i.jsx)("th",{children:"Acciones"})]})}),(0,i.jsx)("tbody",{children:e.map(e=>(0,i.jsxs)("tr",{children:[(0,i.jsx)("td",{children:e.nombre}),(0,i.jsx)("td",{children:e.tipoLicor}),(0,i.jsx)("td",{children:(0,i.jsx)("button",{onClick:()=>s(e),children:"Eliminar"})})]},e.id))})]})]})};function l(){let[e,r]=(0,n.useState)([]);return(0,i.jsxs)("div",{children:[(0,i.jsx)(s,{categorias:e,setCategorias:r}),(0,i.jsx)("hr",{}),(0,i.jsx)("br",{}),(0,i.jsx)(a,{categorias:e,setCategorias:r}),(0,i.jsx)(c,{})]})}},2621:function(e,r,t){"use strict";t.d(r,{w:function(){return n}});var i=t(8855);let n=async()=>{let e=localStorage.getItem("usuario");null==e&&(window.location="../../ingreso/form_ingreso.html");let r=JSON.parse(e),t=r.user.stsTokenManager.accessToken,n=(0,i.Z)();fetch(n+"/usuario/check",{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+t}}).then(e=>{if(!e.ok)throw Error("Token no v\xe1lido");e.json()}).catch(e=>{window.location="../../ingreso/form_ingreso.html"})}},8855:function(e,r,t){"use strict";function i(){return"https://tan-precious-hardware.glitch.me/"}t.d(r,{Z:function(){return i}})},1245:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return l}});var i=t(5893);t(7294);var n=t(3525);let o=()=>(0,i.jsx)("aside",{style:{display:"grid",justifySelf:"center"},children:(0,i.jsxs)("ul",{children:[(0,i.jsx)("li",{style:{marginTop:"40px"},children:(0,i.jsx)("a",{style:{color:"white",textDecoration:"none"},href:"../categoria",children:" Volver a home"})}),(0,i.jsx)("li",{style:{margin:"40px 0"},children:"Mi Cuenta"}),(0,i.jsx)("li",{style:{marginBottom:"40px"},children:"Configuracion"}),(0,i.jsx)("li",{style:{marginBottom:"40px"},children:"Ventas"})]})}),s=e=>(0,i.jsx)("div",{className:"container__perfil",children:e.children});var a=t(2621);let c=()=>((0,a.w)(),(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)(s,{children:[(0,i.jsx)(o,{}),(0,i.jsx)(n.Z,{})]})}));var l=c}},function(e){e.O(0,[774,888,179],function(){return e(e.s=3406)}),_N_E=e.O()}]);