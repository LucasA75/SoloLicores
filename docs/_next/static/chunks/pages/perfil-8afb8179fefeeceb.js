(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[495],{3406:function(e,r,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/perfil",function(){return t(1245)}])},6624:function(e,r,t){"use strict";t.d(r,{Z:function(){return c}});var i=t(5893),n=t(7294);function s(){return"https://tan-precious-hardware.glitch.me/"}let a=e=>{let{categorias:r,setCategorias:t}=e,[a,o]=(0,n.useState)(""),[c,l]=(0,n.useState)(""),d=async e=>{try{e.preventDefault();let i=s();console.log(i);let n=await fetch(i+"/categoria",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({nombre:a,descripcion:c})});if(!n.ok)throw Error("No se pudo guardar la categoria");let o=await n.json();console.dir(o),t([...r,o])}catch(e){console.error(e)}};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("form",{action:"form",method:"post",onSubmit:d,children:[(0,i.jsx)("label",{htmlFor:"nombre",children:"Nombre"}),(0,i.jsx)("input",{type:"text",id:"nombre",value:a,onChange:e=>o(e.target.value)}),(0,i.jsx)("label",{children:"Descripcion"}),(0,i.jsx)("textarea",{value:c,onChange:e=>l(e.target.value)}),(0,i.jsx)("button",{type:"submit",children:"Guardar"})]}),"Nombre : ",a," | Descripcion : ",c]})},o=e=>{let{categorias:r,setCategorias:t}=e,a=async()=>{try{let e=s(),r=await fetch(e+"/categoria");if(!r.ok)throw Error("Problemas al recuperar las categorias!");let i=await r.json();t(i)}catch(e){console.error(e)}};(0,n.useEffect)(()=>{a()},[]);let o=async e=>{try{let r=s(),t=r+"/categoria?id="+e.id,i=await fetch(t,{method:"DELETE"});if(!i.ok)throw Error("Problemas al eliminar la categoria!");a()}catch(e){console.error(e)}};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("h2",{children:"Listado de Categorias"}),(0,i.jsxs)("table",{border:1,children:[(0,i.jsx)("thead",{children:(0,i.jsxs)("tr",{children:[(0,i.jsx)("th",{children:"Id"}),(0,i.jsx)("th",{children:"Nombre"}),(0,i.jsx)("th",{children:"Descripcion"}),(0,i.jsx)("th",{children:"Acciones"})]})}),(0,i.jsx)("tbody",{children:r.map(e=>(0,i.jsxs)("tr",{children:[(0,i.jsx)("td",{children:e.id}),(0,i.jsx)("td",{children:e.nombre}),(0,i.jsx)("td",{children:e.descripcion}),(0,i.jsxs)("td",{children:[(0,i.jsx)("button",{children:"Editar"}),(0,i.jsx)("button",{onClick:()=>o(e),children:"Eliminar"})]})]},e.id))})]})]})};function c(){let[e,r]=(0,n.useState)([]);return(0,i.jsxs)("div",{children:[(0,i.jsx)(a,{categorias:e,setCategorias:r}),(0,i.jsx)("hr",{}),(0,i.jsx)("br",{}),(0,i.jsx)(o,{categorias:e,setCategorias:r})]})}},1245:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return c}});var i=t(5893);t(7294);var n=t(6624);let s=()=>(0,i.jsx)("aside",{style:{display:"grid",justifySelf:"center"},children:(0,i.jsxs)("ul",{children:[(0,i.jsx)("li",{style:{marginTop:"40px"},children:(0,i.jsx)("a",{style:{color:"white",textDecoration:"none"},href:"./categoria",children:" Volver a home"})}),(0,i.jsx)("li",{style:{margin:"40px 0"},children:"Mi Cuenta"}),(0,i.jsx)("li",{style:{marginBottom:"40px"},children:"Configuracion"}),(0,i.jsx)("li",{style:{marginBottom:"40px"},children:"Ventas"})]})}),a=e=>(0,i.jsx)("div",{className:"container__perfil",children:e.children}),o=()=>(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)(a,{children:[(0,i.jsx)(s,{}),(0,i.jsx)(n.Z,{})]})});var c=o}},function(e){e.O(0,[774,888,179],function(){return e(e.s=3406)}),_N_E=e.O()}]);